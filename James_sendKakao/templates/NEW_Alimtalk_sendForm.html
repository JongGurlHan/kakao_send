<!DOCTYPE html>
<html>	
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"> -->

	
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>   
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>	
	
	<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.css" />
	
	<!-- Font-->
	<link rel="stylesheet" type="text/css" href="/static/css/roboto-font.css">
	<link rel="stylesheet" type="text/css" href="/static/fonts/font-awesome-5/css/fontawesome-all.min.css">
	<!-- Main Style Css -->
    <link rel="stylesheet" href="/static/css/style.css"/>

    <title>퍼포마스 알림톡 보내기</title>
</head>
<body class="form-v5 ">
	<div class="page-content " >
		<div class="form-v5-content ">
			<form class="form-detail needs-validation "  action = "http://127.0.0.1:5070/sendAlimtalk" method="post" novalidate>
				<h2><b>알림톡 전송</b></h2>

				
				<div class="col-md-12">
					<label for="validationCustom01" class="form-label"><b>발신자 번호</b></label>
					<input type="text" class="form-control" id="validationCustom01" name = "sendNum" placeholder="'-'없이 입력해주세요" required>
					<div class="invalid-feedback">
					  번호를 입력해주세요
					</div>
				  </div>
				<br>
				<div class="col-md-12">
					<label for="validationCustom02" class="form-label"><b>수신자 번호</b></label>
					<input type="text" class="form-control" id="validationCustom02" name = "receiveNum1" placeholder="'-'없이 입력해주세요" required>
					<div class="invalid-feedback">
						번호를 입력해주세요
					</div>        
				</div>
				<br>
				<div class="col-md-6" >
					<label for="validationCustom03" class="form-label"><b>템플릿 선택</b></label>				
					<select name = 'template' class="form-select row justify-content-md-center"  id="validationCustom03" required>
						<option selected disabled value="">선택하세요.</option>
						{% for list in lists %}
						<option value="{{list['templtCode']}}">  {{loop.index}} {{list['templtName']}}</option> 
						{% endfor %}  
					</select>
					<div class="invalid-feedback">
						템플릿을 선택해주세요.
					</div>
				</div> 
				<br><br>

				<div class="row justify-content-md-center">                    
					<div class="row" style ="width:850px;">
						{% for list in lists %}
						<div class = "col-md-4">
							<div class="card" style="width: 15rem;">   
								<h6 class="card-header">{{list['templtName']}}</h5>                            
									<div class="card-body">
										<p class="card-text">{{list['templtContent']}}</p>                              
									</div>
								</div>
							</div> 
						{% endfor %}  
					</div>
				</div>

				

				<div>
                  
					<legend>전송시간</legend>
					<h3></h3>
					즉시 <input type="radio" onclick="sendTimeCheck();" name="sendingtime" id="timeNow" value="timeNow" checked/> 
					예약 <input type="radio" onclick="sendTimeCheck();" name="sendingtime" id="timeReserve" value="timeReserve" /><br>
					<div id="ifReserve" style="display:none">               
						
						<main class="container">        
							<section class="col-sm-6">
								<div class="form-group">
									<div class='input-group date' id='datetimepicker1'>
										<input type='text' class="form-control" />
										<span class="input-group-addon">  
												<span class="glyphicon glyphicon-calendar"></span>
										</span>
									</div>
								</div>
					
							</section>
							<footer>
					
							</footer>
						</main>
					</div>
                        
                    
                </div>  






				<div class="form-row-last">
					<input type="submit" name="register" class="register" value="Register">
				</div>
			</form>




			<script>
				// Example starter JavaScript for disabling form submissions if there are invalid fields
				(function () {
				  'use strict'
				
				  // Fetch all the forms we want to apply custom Bootstrap validation styles to
				  var forms = document.querySelectorAll('.needs-validation')
				
				  // Loop over them and prevent submission
				  Array.prototype.slice.call(forms)
					.forEach(function (form) {
					  form.addEventListener('submit', function (event) {
						if (!form.checkValidity()) {
						  event.preventDefault()
						  event.stopPropagation()
						}
				
						form.classList.add('was-validated')
					  }, false)
					})
				})()


				function sendTimeCheck() {
					if (document.getElementById('timeReserve').checked) {
						document.getElementById('ifReserve').style.display = 'block';
					}
					else document.getElementById('ifReserve').style.display = 'none';
					
				}


				$(function() {
					$('#datetimepicker1').datetimepicker();
				});
			</script>

			

		</div>
	</div>


</body>
</html>